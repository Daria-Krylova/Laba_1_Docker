# Laba_1_Docker
Задание:
Выполняете оптимизацию образа за счет применения легковесного базового образа, уменьшения количества слоев и др.
1.	Выберите базовый образ (Д)
2.	Выполнить обновление apt-кеша (Д)
3.	Обновить все пакеты в контейнере (Д)
4.	Установить веб сервер nginx (Д)
5.	Очистить скачанный apt-cache (Д)
6.	Удалить содержимое директории /var/www/ (Д)
7.	Создать в директории /var/www/ директорию с именем вашего сайта и папку с картинками (my_project/img) (Д)
8.	Поместить из папки с докер файлом в директорию /var/www/ my_project файл index.html. Файл нужно создать рядом с Dockerfile и поместить туда какую-нибудь строку приветствия (Х,Д)
9.	Поместить из папки с докер файлом в директорию /var/www/my_project/img файл img.jpg (поместить туда какую-нибудь картинку). (Х,Д)
10.	Задать рекурсивно на папку /var/www/my_project права "владельцу - читать, писать, исполнять; группе - читать, исполнять, остальным - читать, исполнять" (Д)
11.	С помощью команды useradd создать пользователя <ваше имя> (Д)
12.	С помощью команды groupadd создать группу <ваше имя> (Д)
13.	С помощью команды usermod поместить пользователя <ваше имя> в группу <ваше имя> (Д)
14.	Рекурсивно присвоить созданных пользователя и группу на папку /var/www/my_project (Д)
15.	Воспользоваться конструкцией (sed -i 's/ЧТО ЗАМЕНИТЬ/НА ЧТО ЗАМЕНИТЬ/g' имя_файла) и заменить в файле /etc/nginx/sites-enabled/default следующую подстроку (/var/www/html) так, чтобы она соответствовала (/var/www/my_project) (Д)
16.	С помощью команды grep найти в каком файле задается пользователь (user), от которого запускается nginx (К)
17.	С помощью команды sed проделать операцию замены пользователя в файле, найденном в пункте 17 на вашего пользователя (Д)
18.	Соберите ваш контейнер: docker build -t test . (Х)
19.	Проведите тест nginx командой nginx -t (К)
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
20.	Определите порт подключения. (Д)
21.	Задайте в команды запуска веб-сервера. (Д)
22.	Запустить ваш контейнер, но на этот раз передав аргументами нужные порты: docker run -ti -p 80:80 test
23.	Откройте в браузере 127.0.0.1:80. Вы должны получить вашу приветственную страницу. Сделайте скриншот страницы в браузере на фоне команды запуска контейнера. Скриншот положить в репозиторий (Х)
24.	Выполните оптимизацию образа за счет применения легковесного базового образа, уменьшения количества слоев и др.(Д)
25.	Выполните правильную постановку тега и загрузите ваш контейнер в docker hub. (Х)

Основные команды: 
docker build -t test . (Для создания нового образа test, использую -t test для задания имени для образа, точка в конце команды указывает на текущий каталог)
Проверка работоспособности nginx проверяется командой nginx -t внутри запущенного контейнера (docker run -it test /bin/bash)
docker run -ti -p 80:80 test (Запускаем контейнер в интерактивном режиме (ti), проброс портов -p 80:80, test имя образа test на основе, которого будет создан и запущен контейнер)

До оптимизации image (test) весит 172МВ, после оптимизации наш образ стал весить . А это означает, что мы выполнили успешно.

Результат работы: 


<img width="1360" alt="web_cat" src="https://github.com/Daria-Krylova/Laba_1_Docker/assets/55152528/62d1e8db-b8e9-45e8-ae32-6d56c185e406">


